{"ast":null,"code":"import React,{Fragment,useEffect,useState}from\"react\";import{useHistory}from\"react-router-dom\";import{wishListProducts}from\"./FetchApi\";const apiURL=process.env.REACT_APP_API_URL;const Product=()=>{const history=useHistory();const[products,setProducts]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{fetchData();},[]);const fetchData=async()=>{setLoading(true);let responseData=await wishListProducts();setTimeout(()=>{if(responseData&&responseData.Products){setProducts(responseData.Products);setLoading(false);}},50);};const removeFromWishList=id=>{let list=localStorage.getItem(\"wishList\")?JSON.parse(localStorage.getItem(\"wishList\")):[];if(list.length>0){if(list.includes(id)===true){list.splice(list.indexOf(id),1);localStorage.setItem(\"wishList\",JSON.stringify(list));fetchData();}}};if(loading){return/*#__PURE__*/React.createElement(\"div\",{className:\"my-32 text-2xl text-center\"},\"Kh\\xF4ng c\\xF3 s\\u1EA3n ph\\u1EA9m trong Y\\xEAu th\\xEDch\");}return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"grid grid-cols-2 md:grid-cols-1\"},products.length>0?products.map((product,index)=>{return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"relative m-2 md:py-6 md:border-t md:border-b md:my-2 md:mx-0 col-span-1 md:flex md:items-center md:justify-between\"},/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/2 md:flex md:items-center\"},/*#__PURE__*/React.createElement(\"img\",{onClick:e=>history.push(\"/products/\".concat(product._id)),className:\"cursor-pointer md:h-20 md:w-20 object-cover object-center\",src:\"\".concat(apiURL,\"/uploads/products/\").concat(product.pImages[0]),alt:\"wishListproduct\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"text-lg md:ml-6 truncate\"},product.pName)),/*#__PURE__*/React.createElement(\"div\",{className:\"md:w-1/2 md:flex md:items-center md:justify-around\"},/*#__PURE__*/React.createElement(\"div\",{className:\"font-semibold text-gray-600\"},product.pPrice,\".000 VND\"),product.pQuantity>0?/*#__PURE__*/React.createElement(\"div\",{className:\"text-green-500 my-1 md:my-0\"},\"In Stock\"):/*#__PURE__*/React.createElement(\"div\",{className:\"text-red-500 my-1 md:my-0\"},\"Out Stock\"),/*#__PURE__*/React.createElement(\"div\",{style:{background:\"#303031\"},onClick:e=>history.push(\"/products/\".concat(product._id)),className:\"inline-block px-4 py-2 text-white text-xs md:text-base text-center cursor-pointer hover:opacity-75\"},\"Xem\")),/*#__PURE__*/React.createElement(\"div\",{className:\"absolute top-0 right-0 mx-2 my-2 md:relative\"},/*#__PURE__*/React.createElement(\"svg\",{onClick:e=>removeFromWishList(product._id),className:\"w-6 h-6 cursor-pointer\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{fillRule:\"evenodd\",d:\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\",clipRule:\"evenodd\"}))));}):/*#__PURE__*/React.createElement(\"div\",null,\"Kh\\xF4ng c\\xF3 s\\u1EA3n ph\\u1EA9m trong Y\\xEAu th\\xEDch\")));};const SingleWishProduct=props=>{return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"section\",{className:\"mx-4 mt-20 md:mx-12 md:mt-32 lg:mt-24\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-2xl mx-2 mb-6\"},\"Danh s\\xE1ch y\\xEAu th\\xEDch\"),/*#__PURE__*/React.createElement(Product,null)));};export default SingleWishProduct;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useHistory","wishListProducts","apiURL","process","env","REACT_APP_API_URL","Product","history","products","setProducts","loading","setLoading","fetchData","responseData","setTimeout","Products","removeFromWishList","id","list","localStorage","getItem","JSON","parse","length","includes","splice","indexOf","setItem","stringify","createElement","className","map","product","index","key","onClick","e","push","concat","_id","src","pImages","alt","pName","pPrice","pQuantity","style","background","fill","viewBox","xmlns","fillRule","d","clipRule","SingleWishProduct","props"],"sources":["C:/Users/khang/Downloads/Shop_reactjs/Shop_reactjs/frontend/src/components/shop/wishlist/SingleWishProduct.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { wishListProducts } from \"./FetchApi\";\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst Product = () => {\n  const history = useHistory();\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    setLoading(true);\n    let responseData = await wishListProducts();\n    setTimeout(() => {\n      if (responseData && responseData.Products) {\n        setProducts(responseData.Products);\n        setLoading(false);\n      }\n    }, 50);\n  };\n\n  const removeFromWishList = (id) => {\n    let list = localStorage.getItem(\"wishList\")\n      ? JSON.parse(localStorage.getItem(\"wishList\"))\n      : [];\n    if (list.length > 0) {\n      if (list.includes(id) === true) {\n        list.splice(list.indexOf(id), 1);\n        localStorage.setItem(\"wishList\", JSON.stringify(list));\n        fetchData();\n      }\n    }\n  };\n  if (loading) {\n    return (\n      <div className=\"my-32 text-2xl text-center\">\n        Không có sản phẩm trong Yêu thích\n      </div>\n    );\n  }\n  return (\n    <Fragment>\n      <div className=\"grid grid-cols-2 md:grid-cols-1\">\n        {products.length > 0 ? (\n          products.map((product, index) => {\n            return (\n              <div\n                key={index}\n                className=\"relative m-2 md:py-6 md:border-t md:border-b md:my-2 md:mx-0 col-span-1 md:flex md:items-center md:justify-between\"\n              >\n                <div className=\"md:w-1/2 md:flex md:items-center\">\n                  <img\n                    onClick={(e) => history.push(`/products/${product._id}`)}\n                    className=\"cursor-pointer md:h-20 md:w-20 object-cover object-center\"\n                    src={`${apiURL}/uploads/products/${product.pImages[0]}`}\n                    alt=\"wishListproduct\"\n                  />\n                  <div className=\"text-lg md:ml-6 truncate\">\n                    {product.pName}\n                  </div>\n                </div>\n                <div className=\"md:w-1/2 md:flex md:items-center md:justify-around\">\n                  <div className=\"font-semibold text-gray-600\">\n                    {product.pPrice}.000 VND\n                  </div>\n                  {product.pQuantity > 0 ? (\n                    <div className=\"text-green-500 my-1 md:my-0\">In Stock</div>\n                  ) : (\n                    <div className=\"text-red-500 my-1 md:my-0\">Out Stock</div>\n                  )}\n\n                  <div\n                    style={{ background: \"#303031\" }}\n                    onClick={(e) => history.push(`/products/${product._id}`)}\n                    className=\"inline-block px-4 py-2 text-white text-xs md:text-base text-center cursor-pointer hover:opacity-75\"\n                  >\n                    Xem\n                  </div>\n                </div>\n                <div className=\"absolute top-0 right-0 mx-2 my-2 md:relative\">\n                  <svg\n                    onClick={(e) => removeFromWishList(product._id)}\n                    className=\"w-6 h-6 cursor-pointer\"\n                    fill=\"currentColor\"\n                    viewBox=\"0 0 20 20\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                      clipRule=\"evenodd\"\n                    />\n                  </svg>\n                </div>\n              </div>\n            );\n          })\n        ) : (\n          <div>Không có sản phẩm trong Yêu thích</div>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nconst SingleWishProduct = (props) => {\n  return (\n    <Fragment>\n      <section className=\"mx-4 mt-20 md:mx-12 md:mt-32 lg:mt-24\">\n        <div className=\"text-2xl mx-2 mb-6\">Danh sách yêu thích</div>\n        {/* Product List */}\n        <Product />\n      </section>\n    </Fragment>\n  );\n};\n\nexport default SingleWishProduct;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}