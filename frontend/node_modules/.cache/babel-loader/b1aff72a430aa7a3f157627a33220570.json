{"ast":null,"code":"import React,{Fragment,useContext,useEffect}from\"react\";import{DashboardContext}from\"./\";import{uploadImage,sliderImages,deleteImage}from\"./Action\";const apiURL=process.env.REACT_APP_API_URL;const Customize=()=>{const{data,dispatch}=useContext(DashboardContext);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"m-4 md:w-1/2\"},!data.uploadSliderBtn?/*#__PURE__*/React.createElement(\"div\",{onClick:e=>dispatch({type:\"uploadSliderBtn\",payload:!data.uploadSliderBtn}),style:{background:\"#303031\"},className:\"cursor-pointer rounded-full p-2 flex items-center justify-center text-gray-100 text-sm font-semibold uppercase\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"w-6 h-6 text-gray-100 mr-2\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z\",clipRule:\"evenodd\"})),\"T\\xF9y ch\\u1EC9nh h\\xECnh \\u1EA3nh thanh tr\\u01B0\\u1EE3t\"):\"\"),data.uploadSliderBtn?/*#__PURE__*/React.createElement(UploadImageSection,null):\"\");};const UploadImageSection=()=>{const{data,dispatch}=useContext(DashboardContext);const uploadImageHandler=image=>{uploadImage(image,dispatch);};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"relative m-4 bg-white p-4 shadow-lg\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"border-b-2 border-yellow-700 mb-4 pb-2 text-2xl font-semibold\"},\"H\\xECnh \\u1EA3nh thanh tr\\u01B0\\u1EE3t c\\u1EEDa h\\xE0ng\"),/*#__PURE__*/React.createElement(\"div\",{className:\"relative flex flex-col space-y-2\"},/*#__PURE__*/React.createElement(\"div\",{style:{background:\"#303031\"},className:\"relative z-0 px-4 py-2 rounded text-white flex justify-center space-x-2 md:w-4/12\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 6v6m0 0v6m0-6h6m-6 0H6\"})),\" \",/*#__PURE__*/React.createElement(\"span\",null,\"C\\u1EADp nh\\u1EADt d\\u1EEF li\\u1EC7u\")),/*#__PURE__*/React.createElement(\"input\",{onChange:e=>uploadImageHandler(e.target.files[0]),name:\"image\",accept:\".jpg, .png, .jpeg, .gif, .bmp, .tif, .tiff|image/*\",className:\"absolute z-10 opacity-0 bg-gray-100\",type:\"file\",id:\"image\"})),/*#__PURE__*/React.createElement(\"span\",{onClick:e=>dispatch({type:\"uploadSliderBtn\",payload:!data.uploadSliderBtn}),style:{background:\"#303031\"},className:\"cursor-pointer absolute top-0 right-0 m-4 rounded-full p-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"w-6 h-6 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"}))),/*#__PURE__*/React.createElement(AllImages,null)));};const AllImages=()=>{const{data,dispatch}=useContext(DashboardContext);useEffect(()=>{sliderImages(dispatch);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const deleteImageReq=id=>{deleteImage(id,dispatch);};return/*#__PURE__*/React.createElement(Fragment,null,data.imageUpload?/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center justify-center p-8\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"w-12 h-12 animate-spin text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"}))):\"\",/*#__PURE__*/React.createElement(\"div\",{className:\"grid grid-cols-1 md:grid md:grid-cols-2 lg:grid-cols-3 my-4\"},data.sliderImages.length>0?data.sliderImages.map((item,index)=>{return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"relative col-span-1 m-2 border\"},/*#__PURE__*/React.createElement(\"img\",{className:\"w-full md:h-32 object-center object-cover\",src:\"\".concat(apiURL,\"/uploads/customize/\").concat(item.slideImage),alt:\"sliderImages\"}),/*#__PURE__*/React.createElement(\"span\",{onClick:e=>deleteImageReq(item._id),style:{background:\"#303031\"},className:\"absolute top-0 right-0 m-1 text-white cursor-pointer rounded-full p-1\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"w-6 h-6\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"}))));}):/*#__PURE__*/React.createElement(\"div\",{className:\"col-span-1 md:col-span-2 lg:col-span-3 text-center text-xl font-light w-full bg-orange-200 rounded py-2\"},\"Kh\\xF4ng t\\xECm th\\u1EA5y h\\xECnh \\u1EA3nh\")));};export default Customize;","map":{"version":3,"names":["React","Fragment","useContext","useEffect","DashboardContext","uploadImage","sliderImages","deleteImage","apiURL","process","env","REACT_APP_API_URL","Customize","data","dispatch","createElement","className","uploadSliderBtn","onClick","e","type","payload","style","background","fill","viewBox","xmlns","fillRule","d","clipRule","UploadImageSection","uploadImageHandler","image","stroke","strokeLinecap","strokeLinejoin","strokeWidth","onChange","target","files","name","accept","id","AllImages","deleteImageReq","imageUpload","length","map","item","index","key","src","concat","slideImage","alt","_id"],"sources":["C:/Users/khang/Downloads/Shop_reactjs/Shop_reactjs/frontend/src/components/admin/dashboardAdmin/Customize.js"],"sourcesContent":["import React, { Fragment, useContext, useEffect } from \"react\";\nimport { DashboardContext } from \"./\";\nimport { uploadImage, sliderImages, deleteImage } from \"./Action\";\n\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst Customize = () => {\n  const { data, dispatch } = useContext(DashboardContext);\n\n  return (\n    <Fragment>\n      <div className=\"m-4 md:w-1/2\">\n        {!data.uploadSliderBtn ? (\n          <div\n            onClick={(e) =>\n              dispatch({\n                type: \"uploadSliderBtn\",\n                payload: !data.uploadSliderBtn,\n              })\n            }\n            style={{ background: \"#303031\" }}\n            className=\"cursor-pointer rounded-full p-2 flex items-center justify-center text-gray-100 text-sm font-semibold uppercase\"\n          >\n            <svg\n              className=\"w-6 h-6 text-gray-100 mr-2\"\n              fill=\"currentColor\"\n              viewBox=\"0 0 20 20\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n            Tùy chỉnh hình ảnh thanh trượt\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n      {data.uploadSliderBtn ? <UploadImageSection /> : \"\"}\n    </Fragment>\n  );\n};\n\nconst UploadImageSection = () => {\n  const { data, dispatch } = useContext(DashboardContext);\n\n  const uploadImageHandler = (image) => {\n    uploadImage(image, dispatch);\n  };\n\n  return (\n    <Fragment>\n      <div className=\"relative m-4 bg-white p-4 shadow-lg\">\n        <h1 className=\"border-b-2 border-yellow-700 mb-4 pb-2 text-2xl font-semibold\">\n        Hình ảnh thanh trượt cửa hàng\n        </h1>\n        <div className=\"relative flex flex-col space-y-2\">\n          <div\n            style={{ background: \"#303031\" }}\n            className=\"relative z-0 px-4 py-2 rounded text-white flex justify-center space-x-2 md:w-4/12\"\n          >\n            <svg\n              className=\"w-6 h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n              />\n            </svg>{\" \"}\n            <span>Cập nhật dữ liệu</span>\n          </div>\n          <input\n            onChange={(e) => uploadImageHandler(e.target.files[0])}\n            name=\"image\"\n            accept=\".jpg, .png, .jpeg, .gif, .bmp, .tif, .tiff|image/*\"\n            className=\"absolute z-10 opacity-0 bg-gray-100\"\n            type=\"file\"\n            id=\"image\"\n          />\n        </div>\n        <span\n          onClick={(e) =>\n            dispatch({\n              type: \"uploadSliderBtn\",\n              payload: !data.uploadSliderBtn,\n            })\n          }\n          style={{ background: \"#303031\" }}\n          className=\"cursor-pointer absolute top-0 right-0 m-4 rounded-full p-1\"\n        >\n          <svg\n            className=\"w-6 h-6 text-white\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M6 18L18 6M6 6l12 12\"\n            />\n          </svg>\n        </span>\n        <AllImages />\n      </div>\n    </Fragment>\n  );\n};\n\nconst AllImages = () => {\n  const { data, dispatch } = useContext(DashboardContext);\n\n  useEffect(() => {\n    sliderImages(dispatch);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const deleteImageReq = (id) => {\n    deleteImage(id, dispatch);\n  };\n\n  return (\n    <Fragment>\n      {data.imageUpload ? (\n        <div className=\"flex items-center justify-center p-8\">\n          <svg\n            className=\"w-12 h-12 animate-spin text-gray-600\"\n            fill=\"none\"\n            stroke=\"currentColor\"\n            viewBox=\"0 0 24 24\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth=\"2\"\n              d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n            ></path>\n          </svg>\n        </div>\n      ) : (\n        \"\"\n      )}\n      <div className=\"grid grid-cols-1 md:grid md:grid-cols-2 lg:grid-cols-3 my-4\">\n        {data.sliderImages.length > 0 ? (\n          data.sliderImages.map((item, index) => {\n            return (\n              <div key={index} className=\"relative col-span-1 m-2 border\">\n                <img\n                  className=\"w-full md:h-32 object-center object-cover\"\n                  src={`${apiURL}/uploads/customize/${item.slideImage}`}\n                  alt=\"sliderImages\"\n                />\n                <span\n                  onClick={(e) => deleteImageReq(item._id)}\n                  style={{ background: \"#303031\" }}\n                  className=\"absolute top-0 right-0 m-1 text-white cursor-pointer rounded-full p-1\"\n                >\n                  <svg\n                    className=\"w-6 h-6\"\n                    fill=\"none\"\n                    stroke=\"currentColor\"\n                    viewBox=\"0 0 24 24\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                  >\n                    <path\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                      strokeWidth={2}\n                      d=\"M6 18L18 6M6 6l12 12\"\n                    />\n                  </svg>\n                </span>\n              </div>\n            );\n          })\n        ) : (\n          <div className=\"col-span-1 md:col-span-2 lg:col-span-3 text-center text-xl font-light w-full bg-orange-200 rounded py-2\">\n            Không tìm thấy hình ảnh\n          </div>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Customize;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}