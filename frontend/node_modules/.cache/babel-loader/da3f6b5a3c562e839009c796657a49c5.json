{"ast":null,"code":"import React,{Fragment,useContext,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import moment from\"moment\";import{DashboardContext}from\"./\";import{todayAllOrders}from\"./Action\";const apiURL=process.env.REACT_APP_API_URL;const SellTable=()=>{const history=useHistory();const{data,dispatch}=useContext(DashboardContext);useEffect(()=>{todayAllOrders(dispatch);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);const ordersList=()=>{let newList=[];if(data.totalOrders.Orders!==undefined){data.totalOrders.Orders.forEach(function(elem){if(moment(elem.createdAt).format(\"LL\")===moment().format(\"LL\")){newList=[...newList,elem];}});}return newList;};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-span-1 overflow-auto bg-white shadow-lg p-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-2xl font-semibold mb-6 text-center\"},\"\\u0110\\u01A1n h\\xE0ng h\\xF4m nay: \",\" \",data.totalOrders.Orders!==undefined?ordersList().length:0),/*#__PURE__*/React.createElement(\"table\",{className:\"table-auto border w-full my-2\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"S\\u1EA3n ph\\u1EA9m\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"\\u1EA2nh\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"Tr\\u1EA1ng th\\xE1i\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"\\u0110\\u1ECBa ch\\u1EC9 \\u0111\\u01A1n h\\xE0ng\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"\\u0110\\u01A1n \\u0111\\u1EB7t v\\xE0o\"))),/*#__PURE__*/React.createElement(\"tbody\",null,data.totalOrders.Orders!==undefined?ordersList().map((item,key)=>{return/*#__PURE__*/React.createElement(TodayOrderTable,{order:item,key:key});}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"5\",className:\"text-xl text-center font-semibold py-8\"},\"Kh\\xF4ng c\\xF3 \\u0111\\u01A1n h\\xE0ng h\\xF4m nay\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-sm text-gray-600 mt-2\"},\"T\\u1ED5ng c\\u1ED9ng\",\" \",data.totalOrders.Orders!==undefined?ordersList().length:0,\" \",\"\\u0111\\u01A1n h\\xE0ng\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex justify-center\"},/*#__PURE__*/React.createElement(\"span\",{onClick:e=>history.push(\"/admin/dashboard/orders\"),style:{background:\"#303031\"},className:\"cursor-pointer px-4 py-2 text-white rounded-full\"},\"Xem t\\u1EA5t c\\u1EA3\"))));};const TodayOrderTable=_ref=>{let{order}=_ref;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{className:\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\"},order.allProduct.map((item,index)=>{return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"flex space-x-2\"},/*#__PURE__*/React.createElement(\"span\",null,item.id.pName),/*#__PURE__*/React.createElement(\"span\",null,item.quantitiy,\"x\"));})),/*#__PURE__*/React.createElement(\"td\",{className:\"p-2 text-left\"},order.allProduct.map((item,index)=>{return/*#__PURE__*/React.createElement(\"img\",{key:index,className:\"w-12 h-12 object-cover\",src:\"\".concat(apiURL,\"/uploads/products/\").concat(item.id.pImages[0]),alt:\"Pic\"});})),/*#__PURE__*/React.createElement(\"td\",{className:\"p-2 text-center\"},order.status===\"Not processed\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Processing\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Shipped\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Delivered\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Cancelled\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status)),/*#__PURE__*/React.createElement(\"td\",{className:\"p-2 text-center\"},order.address),/*#__PURE__*/React.createElement(\"td\",{className:\"p-2 text-center\"},moment(order.createdAt).format(\"lll\"))));};const TodaySell=props=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"m-4\"},/*#__PURE__*/React.createElement(SellTable,null));};export default TodaySell;","map":{"version":3,"names":["React","Fragment","useContext","useEffect","useHistory","moment","DashboardContext","todayAllOrders","apiURL","process","env","REACT_APP_API_URL","SellTable","history","data","dispatch","ordersList","newList","totalOrders","Orders","undefined","forEach","elem","createdAt","format","createElement","className","length","map","item","key","TodayOrderTable","order","colSpan","onClick","e","push","style","background","_ref","allProduct","index","id","pName","quantitiy","src","concat","pImages","alt","status","address","TodaySell","props"],"sources":["C:/Users/khang/Downloads/Shop_reactjs/Shop_reactjs/frontend/src/components/admin/dashboardAdmin/TodaySell.js"],"sourcesContent":["import React, { Fragment, useContext, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport moment from \"moment\";\nimport { DashboardContext } from \"./\";\nimport { todayAllOrders } from \"./Action\";\n\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst SellTable = () => {\n  const history = useHistory();\n  const { data, dispatch } = useContext(DashboardContext);\n\n  useEffect(() => {\n    todayAllOrders(dispatch);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const ordersList = () => {\n    let newList = [];\n    if (data.totalOrders.Orders !== undefined) {\n      data.totalOrders.Orders.forEach(function (elem) {\n        if (moment(elem.createdAt).format(\"LL\") === moment().format(\"LL\")) {\n          newList = [...newList, elem];\n        }\n      });\n    }\n    return newList;\n  };\n\n  return (\n    <Fragment>\n      <div className=\"col-span-1 overflow-auto bg-white shadow-lg p-4\">\n        <div className=\"text-2xl font-semibold mb-6 text-center\">\n          Đơn hàng hôm nay: {\" \"}\n          {data.totalOrders.Orders !== undefined ? ordersList().length : 0}\n        </div>\n        <table className=\"table-auto border w-full my-2\">\n          <thead>\n            <tr>\n              <th className=\"px-4 py-2 border\">Sản phẩm</th>\n              <th className=\"px-4 py-2 border\">Ảnh</th>\n              <th className=\"px-4 py-2 border\">Trạng thái</th>\n              <th className=\"px-4 py-2 border\">Địa chỉ đơn hàng</th>\n              <th className=\"px-4 py-2 border\">Đơn đặt vào</th>\n            </tr>\n          </thead>\n          <tbody>\n            {data.totalOrders.Orders !== undefined ? (\n              ordersList().map((item, key) => {\n                return <TodayOrderTable order={item} key={key} />;\n              })\n            ) : (\n              <tr>\n                <td\n                  colSpan=\"5\"\n                  className=\"text-xl text-center font-semibold py-8\"\n                >\n                  Không có đơn hàng hôm nay\n                </td>\n              </tr>\n            )}\n          </tbody>\n        </table>\n        <div className=\"text-sm text-gray-600 mt-2\">\n          Tổng cộng{\" \"}\n          {data.totalOrders.Orders !== undefined ? ordersList().length : 0}{\" \"}\n          đơn hàng\n        </div>\n        <div className=\"flex justify-center\">\n          <span\n            onClick={(e) => history.push(\"/admin/dashboard/orders\")}\n            style={{ background: \"#303031\" }}\n            className=\"cursor-pointer px-4 py-2 text-white rounded-full\"\n          >\n            Xem tất cả\n          </span>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nconst TodayOrderTable = ({ order }) => {\n  return (\n    <Fragment>\n      <tr>\n        <td className=\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\">\n          {order.allProduct.map((item, index) => {\n            return (\n              <div key={index} className=\"flex space-x-2\">\n                <span>{item.id.pName}</span>\n                <span>{item.quantitiy}x</span>\n              </div>\n            );\n          })}\n        </td>\n        <td className=\"p-2 text-left\">\n          {order.allProduct.map((item, index) => {\n            return (\n              <img\n                key={index}\n                className=\"w-12 h-12 object-cover\"\n                src={`${apiURL}/uploads/products/${item.id.pImages[0]}`}\n                alt=\"Pic\"\n              />\n            );\n          })}\n        </td>\n        <td className=\"p-2 text-center\">\n          {order.status === \"Not processed\" && (\n            <span className=\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Processing\" && (\n            <span className=\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Shipped\" && (\n            <span className=\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Delivered\" && (\n            <span className=\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Cancelled\" && (\n            <span className=\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n        </td>\n        <td className=\"p-2 text-center\">{order.address}</td>\n        <td className=\"p-2 text-center\">\n          {moment(order.createdAt).format(\"lll\")}\n        </td>\n      </tr>\n    </Fragment>\n  );\n};\n\nconst TodaySell = (props) => {\n  return (\n    <div className=\"m-4\">\n      <SellTable />\n    </div>\n  );\n};\n\nexport default TodaySell;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}