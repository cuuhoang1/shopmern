{"ast":null,"code":"import React,{Fragment,useEffect,useContext}from\"react\";import moment from\"moment\";import{fetchOrderByUser}from\"./Action\";import Layout,{DashboardUserContext}from\"./Layout\";const apiURL=process.env.REACT_APP_API_URL;const TableHeader=()=>{return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"S\\u1EA3n ph\\u1EA9m\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"Tr\\u1EA1ng th\\xE1i\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"T\\u1ED5ng\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"\\u0110\\u1ECBa ch\\u1EC9\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"ID giao d\\u1ECBch\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"Thanh to\\xE1n\"),/*#__PURE__*/React.createElement(\"th\",{className:\"px-4 py-2 border\"},\"\\u0110ang s\\u1EED l\\xFD\"))));};const TableBody=_ref=>{let{order}=_ref;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"tr\",{className:\"border-b\"},/*#__PURE__*/React.createElement(\"td\",{className:\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\"},order.allProduct.map((product,i)=>{return/*#__PURE__*/React.createElement(\"span\",{className:\"block flex items-center space-x-2\",key:i},/*#__PURE__*/React.createElement(\"img\",{className:\"w-8 h-8 object-cover object-center\",src:\"\".concat(apiURL,\"/uploads/products/\").concat(product.id.pImages[0]),alt:\"productImage\"}),/*#__PURE__*/React.createElement(\"span\",null,product.id.pName),/*#__PURE__*/React.createElement(\"span\",null,product.quantitiy,\"x\"));})),/*#__PURE__*/React.createElement(\"td\",{className:\"hover:bg-gray-200 p-2 text-center cursor-default\"},order.status===\"Not processed\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Processing\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Shipped\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Delivered\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status),order.status===\"Cancelled\"&&/*#__PURE__*/React.createElement(\"span\",{className:\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\"},order.status)),/*#__PURE__*/React.createElement(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\"},order.amount,\".000 VND\"),/*#__PURE__*/React.createElement(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\"},order.phone),/*#__PURE__*/React.createElement(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\"},order.address),/*#__PURE__*/React.createElement(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\"},order.transactionId),/*#__PURE__*/React.createElement(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\"},moment(order.createdAt).format(\"lll\")),/*#__PURE__*/React.createElement(\"td\",{className:\"hover:bg-gray-200 p-2 text-center\"},moment(order.updatedAt).format(\"lll\"))));};const OrdersComponent=()=>{const{data,dispatch}=useContext(DashboardUserContext);const{OrderByUser:orders}=data;useEffect(()=>{fetchOrderByUser(dispatch);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);if(data.loading){return/*#__PURE__*/React.createElement(\"div\",{className:\"w-full md:w-9/12 flex items-center justify-center py-24\"},/*#__PURE__*/React.createElement(\"svg\",{className:\"w-12 h-12 animate-spin text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},/*#__PURE__*/React.createElement(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"})));}return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"flex flex-col w-full my-4 md:my-0 md:w-9/12 md:px-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"border\"},/*#__PURE__*/React.createElement(\"div\",{className:\"py-4 px-4 text-lg font-semibold border-t-2 border-yellow-700\"},\"\\u0110\\u01A1n h\\xE0ng\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"overflow-auto bg-white shadow-lg p-4\"},/*#__PURE__*/React.createElement(\"table\",{className:\"table-auto border w-full my-2\"},/*#__PURE__*/React.createElement(TableHeader,null),/*#__PURE__*/React.createElement(\"tbody\",null,orders&&orders.length>0?orders.map((item,i)=>{return/*#__PURE__*/React.createElement(TableBody,{key:i,order:item});}):/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"8\",className:\"text-xl text-center font-semibold py-8\"},\"Kh\\xF4ng t\\xECm th\\u1EA5y \\u0111\\u01A1n h\\xE0ng\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-sm text-gray-600 mt-2\"},\"T\\u1ED5ng c\\u1ED9ng \",orders&&orders.length,\" \\u0111\\u01A1n h\\xE0ng \\u0111\\u01B0\\u1EE3c t\\xECm th\\u1EA5y\")))));};const UserOrders=props=>{return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Layout,{children:/*#__PURE__*/React.createElement(OrdersComponent,null)}));};export default UserOrders;","map":{"version":3,"names":["React","Fragment","useEffect","useContext","moment","fetchOrderByUser","Layout","DashboardUserContext","apiURL","process","env","REACT_APP_API_URL","TableHeader","createElement","className","TableBody","_ref","order","allProduct","map","product","i","key","src","concat","id","pImages","alt","pName","quantitiy","status","amount","phone","address","transactionId","createdAt","format","updatedAt","OrdersComponent","data","dispatch","OrderByUser","orders","loading","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","length","item","colSpan","UserOrders","props","children"],"sources":["C:/Users/khang/Downloads/Shop_reactjs/Shop_reactjs/frontend/src/components/shop/dashboardUser/UserOrders.js"],"sourcesContent":["import React, { Fragment, useEffect, useContext } from \"react\";\nimport moment from \"moment\";\nimport { fetchOrderByUser } from \"./Action\";\nimport Layout, { DashboardUserContext } from \"./Layout\";\n\nconst apiURL = process.env.REACT_APP_API_URL;\n\nconst TableHeader = () => {\n  return (\n    <Fragment>\n      <thead>\n        <tr>\n          <th className=\"px-4 py-2 border\">Sản phẩm</th>\n          <th className=\"px-4 py-2 border\">Trạng thái</th>\n          <th className=\"px-4 py-2 border\">Tổng</th>\n          <th className=\"px-4 py-2 border\">Số điện thoại</th>\n          <th className=\"px-4 py-2 border\">Địa chỉ</th>\n          <th className=\"px-4 py-2 border\">ID giao dịch</th>\n          <th className=\"px-4 py-2 border\">Thanh toán</th>\n          <th className=\"px-4 py-2 border\">Đang sử lý</th>\n        </tr>\n      </thead>\n    </Fragment>\n  );\n};\n\nconst TableBody = ({ order }) => {\n  return (\n    <Fragment>\n      <tr className=\"border-b\">\n        <td className=\"w-48 hover:bg-gray-200 p-2 flex flex-col space-y-1\">\n          {order.allProduct.map((product, i) => {\n            return (\n              <span className=\"block flex items-center space-x-2\" key={i}>\n                <img\n                  className=\"w-8 h-8 object-cover object-center\"\n                  src={`${apiURL}/uploads/products/${product.id.pImages[0]}`}\n                  alt=\"productImage\"\n                />\n                <span>{product.id.pName}</span>\n                <span>{product.quantitiy}x</span>\n              </span>\n            );\n          })}\n        </td>\n        <td className=\"hover:bg-gray-200 p-2 text-center cursor-default\">\n          {order.status === \"Not processed\" && (\n            <span className=\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Processing\" && (\n            <span className=\"block text-yellow-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Shipped\" && (\n            <span className=\"block text-blue-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Delivered\" && (\n            <span className=\"block text-green-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n          {order.status === \"Cancelled\" && (\n            <span className=\"block text-red-600 rounded-full text-center text-xs px-2 font-semibold\">\n              {order.status}\n            </span>\n          )}\n        </td>\n        <td className=\"hover:bg-gray-200 p-2 text-center\">\n          {order.amount}.000 VND\n        </td>\n        <td className=\"hover:bg-gray-200 p-2 text-center\">{order.phone}</td>\n        <td className=\"hover:bg-gray-200 p-2 text-center\">{order.address}</td>\n        <td className=\"hover:bg-gray-200 p-2 text-center\">\n          {order.transactionId}\n        </td>\n        <td className=\"hover:bg-gray-200 p-2 text-center\">\n          {moment(order.createdAt).format(\"lll\")}\n        </td>\n        <td className=\"hover:bg-gray-200 p-2 text-center\">\n          {moment(order.updatedAt).format(\"lll\")}\n        </td>\n      </tr>\n    </Fragment>\n  );\n};\n\nconst OrdersComponent = () => {\n  const { data, dispatch } = useContext(DashboardUserContext);\n  const { OrderByUser: orders } = data;\n\n  useEffect(() => {\n    fetchOrderByUser(dispatch);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  if (data.loading) {\n    return (\n      <div className=\"w-full md:w-9/12 flex items-center justify-center py-24\">\n        <svg\n          className=\"w-12 h-12 animate-spin text-gray-600\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          viewBox=\"0 0 24 24\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth=\"2\"\n            d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\"\n          ></path>\n        </svg>\n      </div>\n    );\n  }\n  return (\n    <Fragment>\n      <div className=\"flex flex-col w-full my-4 md:my-0 md:w-9/12 md:px-8\">\n        <div className=\"border\">\n          <div className=\"py-4 px-4 text-lg font-semibold border-t-2 border-yellow-700\">\n            Đơn hàng\n          </div>\n          <hr />\n          <div className=\"overflow-auto bg-white shadow-lg p-4\">\n            <table className=\"table-auto border w-full my-2\">\n              <TableHeader />\n              <tbody>\n                {orders && orders.length > 0 ? (\n                  orders.map((item, i) => {\n                    return <TableBody key={i} order={item} />;\n                  })\n                ) : (\n                  <tr>\n                    <td\n                      colSpan=\"8\"\n                      className=\"text-xl text-center font-semibold py-8\"\n                    >\n                      Không tìm thấy đơn hàng\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n            <div className=\"text-sm text-gray-600 mt-2\">\n              Tổng cộng {orders && orders.length} đơn hàng được tìm thấy\n            </div>\n          </div>\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nconst UserOrders = (props) => {\n  return (\n    <Fragment>\n      <Layout children={<OrdersComponent />} />\n    </Fragment>\n  );\n};\n\nexport default UserOrders;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}