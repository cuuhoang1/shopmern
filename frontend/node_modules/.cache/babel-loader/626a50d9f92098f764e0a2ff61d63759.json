{"ast":null,"code":"export const cartList=()=>{let carts=localStorage.getItem(\"cart\")?JSON.parse(localStorage.getItem(\"cart\")):null;let list=[];if(carts!==null){for(let cart of carts){list.push(cart.id);}return list;}else{return list=null;}};export const updateQuantity=(type,totalQuantitiy,quantitiy,setQuantitiy,setAlertq)=>{if(type===\"increase\"){if(quantitiy===totalQuantitiy){setAlertq(true);}else{setQuantitiy(quantitiy+1);}}else if(type===\"decrease\"){if(quantitiy===1){setQuantitiy(1);setAlertq(false);}else{setQuantitiy(quantitiy-1);}}};export const slideImage=(type,active,count,setCount,pImages)=>{if(active===count){return true;}if(type===\"increase\"){if(count===pImages.length-1){setCount(0);}else if(count<pImages.length){setCount(count+1);}}};export const inCart=id=>{if(localStorage.getItem(\"cart\")){let cartProducts=JSON.parse(localStorage.getItem(\"cart\"));for(let product of cartProducts){if(product.id===id){return true;}}}return false;};export const addToCart=(id,quantitiy,price,layoutDispatch,setQuantitiy,setAlertq,fetchData,totalCost)=>{let isObj=false;let cart=localStorage.getItem(\"cart\")?JSON.parse(localStorage.getItem(\"cart\")):[];if(cart.length>0){cart.forEach(item=>{if(item.id===id){isObj=true;}});if(!isObj){cart.push({id,quantitiy,price});localStorage.setItem(\"cart\",JSON.stringify(cart));}}else{cart.push({id,quantitiy,price});localStorage.setItem(\"cart\",JSON.stringify(cart));}layoutDispatch({type:\"inCart\",payload:cartList()});layoutDispatch({type:\"cartTotalCost\",payload:totalCost()});setQuantitiy(1);setAlertq(false);fetchData();};","map":{"version":3,"names":["cartList","carts","localStorage","getItem","JSON","parse","list","cart","push","id","updateQuantity","type","totalQuantitiy","quantitiy","setQuantitiy","setAlertq","slideImage","active","count","setCount","pImages","length","inCart","cartProducts","product","addToCart","price","layoutDispatch","fetchData","totalCost","isObj","forEach","item","setItem","stringify","payload"],"sources":["C:/Users/khang/Downloads/Shop_reactjs/Shop_reactjs/frontend/src/components/shop/productDetails/Mixins.js"],"sourcesContent":["export const cartList = () => {\n  let carts = localStorage.getItem(\"cart\")\n    ? JSON.parse(localStorage.getItem(\"cart\"))\n    : null;\n  let list = [];\n  if (carts !== null) {\n    for (let cart of carts) {\n      list.push(cart.id);\n    }\n    return list;\n  } else {\n    return (list = null);\n  }\n};\n\nexport const updateQuantity = (\n  type,\n  totalQuantitiy,\n  quantitiy,\n  setQuantitiy,\n  setAlertq\n) => {\n  if (type === \"increase\") {\n    if (quantitiy === totalQuantitiy) {\n      setAlertq(true);\n    } else {\n      setQuantitiy(quantitiy + 1);\n    }\n  } else if (type === \"decrease\") {\n    if (quantitiy === 1) {\n      setQuantitiy(1);\n      setAlertq(false);\n    } else {\n      setQuantitiy(quantitiy - 1);\n    }\n  }\n};\n\nexport const slideImage = (type, active, count, setCount, pImages) => {\n  if (active === count) {\n    return true;\n  }\n  if (type === \"increase\") {\n    if (count === pImages.length - 1) {\n      setCount(0);\n    } else if (count < pImages.length) {\n      setCount(count + 1);\n    }\n  }\n};\n\nexport const inCart = (id) => {\n  if (localStorage.getItem(\"cart\")) {\n    let cartProducts = JSON.parse(localStorage.getItem(\"cart\"));\n    for (let product of cartProducts) {\n      if (product.id === id) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nexport const addToCart = (\n  id,\n  quantitiy,\n  price,\n  layoutDispatch,\n  setQuantitiy,\n  setAlertq,\n  fetchData,\n  totalCost\n) => {\n  let isObj = false;\n  let cart = localStorage.getItem(\"cart\")\n    ? JSON.parse(localStorage.getItem(\"cart\"))\n    : [];\n  if (cart.length > 0) {\n    cart.forEach((item) => {\n      if (item.id === id) {\n        isObj = true;\n      }\n    });\n    if (!isObj) {\n      cart.push({ id, quantitiy, price });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n  } else {\n    cart.push({ id, quantitiy, price });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n  layoutDispatch({ type: \"inCart\", payload: cartList() });\n  layoutDispatch({ type: \"cartTotalCost\", payload: totalCost() });\n  setQuantitiy(1);\n  setAlertq(false);\n  fetchData();\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}